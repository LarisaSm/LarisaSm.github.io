{"version":3,"sources":["Components/ImagePopup.js","utils/Api.js","Components/Spinner.js","contexts/CurrentUserContext.js","Components/Confirm.js","images/header__logo.svg","Components/Header.js","Components/Footer.js","Components/Card.js","Components/Main.js","Components/PopupWithForm.js","Components/EditProfilePopup.js","Components/EditAvatarPopup.js","Components/AddPlacePopup.js","Components/App.js","reportWebVitals.js","index.js"],"names":["ImagePopup","card","isOpen","onClose","src","nameImg","closeByOverlay","useCallback","evt","target","currentTarget","handleEscClose","key","React","useEffect","Popup","document","querySelector","classList","add","body","addEventListener","remove","removeEventListener","className","alt","type","onClick","api","config","this","_url","url","_headers","headers","fetch","then","res","_returnData","name","link","method","JSON","stringify","about","id","avatar","ok","json","Promise","reject","status","authorization","Spinner","CurrentUserContext","createContext","Confirm","setIsOpen","confirmAction","confirmObj","setСurrentUser","cards","setCards","isLoadingConfirm","setIsLoadingConfirm","currentUser","useContext","Api","addNewCard","newCard","_id","like","likes","ownerId","owner","cardId","catch","err","console","log","deleteCard","newCards","filter","c","setUserAvatar","editUserInfo","preventDefault","Header","logo","Footer","Card","onCardClick","onCardLike","setConfirmOpen","setConfirmAction","setConfirmObj","isOwn","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","length","Main","onEditProfile","onAddPlace","onEditAvatar","isLoading","href","map","PopupWithForm","formId","title","children","button","onSubmit","noValidate","EditProfilePopup","useState","inputAboutValue","setInputAboutValue","inputNameValue","setInputNameValue","autoComplete","placeholder","minLength","maxLength","value","onChange","e","required","avatarRef","useRef","current","ref","AddPlacePopup","inputCardName","setInputCardName","inputCardLink","setInputCardLink","App","isEditProfilePopupOpen","setEditProfilePopupState","isEditAvatarPopupOpen","setEditAvatarPopupState","isAddPlacePopupOpen","setAddPlacerPopupState","isImagePopupOpen","setImagePopupState","isConfirmOpen","setIsLoading","selectedCard","setSelectedCard","closeAllPopups","handleConfirmClick","getUserInfo","getInitialCards","item","Provider","handleEditAvatarClick","deleteLikeCard","likeCard","EditAvatarPopup","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"4NAmDeA,MAjDf,YAA+C,IAAzBC,EAAwB,EAAxBA,KAAMC,EAAkB,EAAlBA,OAAQC,EAAU,EAAVA,QAE5BC,EAAMH,EAAKG,IACXC,EAAUJ,EAAKI,QAEfC,EAAiBC,uBAAY,SAACC,GAC9BA,EAAIC,SAAWD,EAAIE,eACvBP,MACC,CAACA,IAEEQ,EAAiBJ,uBAAY,SAACC,GAClB,WAAZA,EAAII,KACNT,MAED,CAACA,IAkBN,OAfEU,IAAMC,WAAU,WACd,GAAGZ,EAAQ,CACT,IAAMa,EAAQC,SAASC,cAAc,UACrCF,EAAMG,UAAUC,IAAI,gBACpBH,SAASI,KAAKC,iBAAiB,QAASV,GACxCI,EAAMM,iBAAiB,QAASf,GAElC,OAAO,WACL,IAAMS,EAAQC,SAASC,cAAc,UACrCF,EAAMG,UAAUI,OAAO,gBACvBN,SAASI,KAAKG,oBAAoB,QAASZ,GAC3CI,EAAMQ,oBAAoB,QAASjB,MAEpC,CAACJ,EAAQI,EAAgBK,IAG5B,qBAAKa,UAAU,cAAf,SACE,sBAAKA,UAAU,oCAAf,UACE,qBACEpB,IAAKA,EACLqB,IAAKpB,EACLmB,UAAU,iBAEZ,mBAAGA,UAAU,0BAAb,SAAwCnB,IACxC,wBAAQmB,UAAU,eAAeE,KAAK,SAASC,QAASxB,U,qBC4D/CyB,EARH,I,WA9FV,WAAaC,GAAS,oBAClBC,KAAKC,KAAOF,EAAOG,IACnBF,KAAKG,SAAWJ,EAAOK,Q,8DAGR,IAAD,OAChB,OAAOC,MAAML,KAAKC,KAAO,QAAS,CAChCG,QAASJ,KAAKG,WAEbG,MAAK,SAAAC,GAAG,OAAI,EAAKC,YAAYD,Q,iCAGtBE,EAAMC,GAAO,IAAD,OACtB,OAAOL,MAAML,KAAKC,KAAO,QAAS,CAChCU,OAAQ,OACRP,QAASJ,KAAKG,SACdb,KAAMsB,KAAKC,UAAU,CACnBJ,KAAMA,EACNC,KAAMA,MAGTJ,MAAK,SAACC,GAAD,OAAS,EAAKC,YAAYD,Q,mCAGpBE,EAAMK,GAAQ,IAAD,OACzB,OAAOT,MAAML,KAAKC,KAAO,WAAY,CACrCU,OAAQ,QACRP,QAASJ,KAAKG,SACdb,KAAMsB,KAAKC,UAAU,CACnBJ,KAAMA,EACNK,MAAOA,MAGVR,MAAK,SAACC,GAAD,OAAS,EAAKC,YAAYD,Q,oCAGhB,IAAD,OACb,OAAOF,MAAML,KAAKC,KAAO,WAAY,CACjCG,QAASJ,KAAKG,WAEfG,MAAK,SAACC,GAAD,OAAS,EAAKC,YAAYD,Q,iCAIzBQ,GAAK,IAAD,OACX,OAAOV,MAAML,KAAKC,KAAL,gBAAqBc,GAAM,CACpCJ,OAAQ,SACRP,QAASJ,KAAKG,WACfG,MAAK,SAACC,GAAD,OAAS,EAAKC,YAAYD,Q,+BAI7BQ,GAAK,IAAD,OACX,OAAOV,MAAML,KAAKC,KAAL,sBAA2Bc,GAAM,CAC5CJ,OAAQ,MACRP,QAASJ,KAAKG,WACfG,MAAK,SAACC,GAAD,OAAS,EAAKC,YAAYD,Q,qCAGnBQ,GAAK,IAAD,OACjB,OAAOV,MAAML,KAAKC,KAAL,sBAA2Bc,GAAM,CAC5CJ,OAAQ,SACRP,QAASJ,KAAKG,WACfG,MAAK,SAACC,GAAD,OAAS,EAAKC,YAAYD,Q,mCAGrBQ,GAAK,IAAD,OACf,OAAOV,MAAML,KAAKC,KAAL,sBAA2Bc,GAAM,CAC5CJ,OAAQ,MACRP,QAASJ,KAAKG,WACfG,MAAK,SAACC,GAAD,OAAS,EAAKC,YAAYD,Q,oCAGpBS,GAAS,IAAD,OACpB,OAAOX,MAAML,KAAKC,KAAO,kBAAmB,CAC1CU,OAAQ,QACRP,QAASJ,KAAKG,SACdb,KAAMsB,KAAKC,UAAU,CACnBG,OAAQA,MAGXV,MAAK,SAACC,GAAD,OAAS,EAAKC,YAAYD,Q,kCAGvBA,GACX,OAAIA,EAAIU,GACCV,EAAIW,OAGNC,QAAQC,OAAR,gDAA0Bb,EAAIc,a,KAK3B,CAAQ,CAClBnB,IAAK,+CACLE,QAAS,CACTkB,cAAe,uCACb,eAAgB,sB,MC1FLC,MANf,WACE,OACE,qBAAK7B,UAAU,aCAJ8B,EAFmBzC,IAAM0C,gBCyFzBC,MAtFf,YAA0I,IAAvHtD,EAAsH,EAAtHA,OAAQuD,EAA8G,EAA9GA,UAAUC,EAAoG,EAApGA,cAAeC,EAAqF,EAArFA,WAAYC,EAAyE,EAAzEA,oBAAgBC,EAAyD,EAAzDA,MAAOC,EAAkD,EAAlDA,SAAUC,EAAwC,EAAxCA,iBAAkBC,EAAsB,EAAtBA,oBAE3GC,EAAcpD,IAAMqD,WAAWZ,GAsErC,OApEAzC,IAAMC,WAAU,WACXZ,GACac,SAASC,cAAT,YACRC,UAAUC,IAAI,gBAEtB,OAAO,WACSH,SAASC,cAAT,YACRC,UAAUI,OAAO,mBAExB,CAACpB,IA4DF,qBAAKsB,UAAU,gBAAf,SACA,sBAAKA,UAAU,sCAAf,UACE,oBAAIA,UAAU,gBAAd,sEAEA,wBAAQA,UAAU,cAAcE,KAAK,SAASC,QA9DlD,WAIE,OADAqC,GAAoB,GACXN,GACP,IAAK,aACHS,EAAIC,WAAWT,EAAWpB,KAAMoB,EAAWnB,MAC1CJ,MAAK,SAACiC,GACLA,EAAQzD,IAAMyD,EAAQC,IACtBD,EAAQE,KAAOF,EAAQG,MACvBH,EAAQI,QAAUJ,EAAQK,MAAMJ,IAChCD,EAAQjE,IAAMiE,EAAQ7B,KACtB6B,EAAQhE,QAAUgE,EAAQ9B,KAC1B8B,EAAQM,OAASN,EAAQC,IACzBR,EAAS,CAACO,GAAF,mBAAcR,QAEvBzB,MAAK,WAAOqB,GAAU,MACtBmB,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEd,MACF,IAAK,aACWlB,EAAWc,UAAYR,EAAYK,KAE7CH,EAAIa,WAAWrB,EAAWgB,QACzBvC,MAAK,WACF,IAAM6C,EAAWpB,EAAMqB,QAAO,SAACC,GAAD,OAAOA,EAAER,SAAWhB,EAAWgB,UAC/Db,EAASmB,MAEV7C,MAAK,WAAOqB,GAAU,MACtBmB,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAElB,MACF,IAAK,iBACHV,EAAIiB,cAAczB,EAAWb,QAC5BV,MAAK,SAACC,GAAD,OAASuB,EAAevB,MAC7BD,MAAK,WAAOqB,GAAU,MACtBmB,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEZ,MACJ,IAAK,eACHV,EAAIkB,aAAc1B,EAAWpB,KAAMoB,EAAWf,OAC7CR,MAAK,SAACC,GAAD,OAASuB,EAAevB,MAC7BD,MAAK,WAAOqB,GAAU,MACtBmB,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAehB,0BACCd,EAAmB,cAAC,EAAD,IAAc,GAClC,wBAAQvC,UAAU,eAAeE,KAAK,SAASC,QAAS,SAAUnB,GAAOA,EAAI8E,iBAAkB7B,GAAU,YCrFhG,MAA0B,yCCW1B8B,MARf,WACE,OACE,wBAAQ/D,UAAU,sBAAlB,SACE,qBAAKpB,IAAKoF,EAAM/D,IAAI,iCAAQD,UAAU,oBCA7BiE,MAJf,WACE,OAAQ,wBAAQjE,UAAU,sBAAlB,qCCqDKkE,MArDf,YAAiI,IAAjHf,EAAgH,EAAhHA,OAAQvE,EAAwG,EAAxGA,IAAKC,EAAmG,EAAnGA,QAASkE,EAA0F,EAA1FA,KAAMoB,EAAoF,EAApFA,YAAaC,EAAuE,EAAvEA,WAAYnB,EAA2D,EAA3DA,QAASoB,EAAkD,EAAlDA,eAAgBC,EAAkC,EAAlCA,iBAAkBC,EAAgB,EAAhBA,cAExG9B,EAAcpD,IAAMqD,WAAWZ,GAG/B0C,EAAQvB,IAAYR,EAAYK,IAEhC2B,EAAyB,yBACXD,EAAQ,IAAM,4BAI5BE,EAAU3B,EAAK4B,MAAK,SAAAC,GAAC,OAAIA,EAAE9B,MAAQL,EAAYK,OAG/C+B,EAAuB,wBACZH,EAAU,4BAA8B,KAsBzD,OACE,sBAAK1E,UAAU,UAAf,UACE,qBAAKpB,IAAKA,EAAKqB,IAAKpB,EAASmB,UAAU,eAAeG,QAtB1D,WACEgE,EAAY,CAACvF,MAAKC,eAsBhB,sBAAKmB,UAAU,gBAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCnB,IAChC,sBAAKmB,UAAU,iBAAf,UACE,wBAAQA,UAAW6E,EAAyB3E,KAAK,SAASC,QAtBlE,WAGEiE,EAAWrB,EAAMI,MAoBX,mBAAGnD,UAAU,wBAAb,SAAsC+C,EAAK+B,eAG/C,wBAAQ9E,UAAWyE,EAA2BvE,KAAK,SAASC,QApBhE,WAEEkE,IACAC,EAAiB,cACjBC,EAAc,CACZtB,QAASA,EACTE,OAAQA,WCOC4B,MAvCf,YAAuJ,IAAvI1C,EAAsI,EAAtIA,MAAO+B,EAA+H,EAA/HA,WAAYY,EAAmH,EAAnHA,cAAeC,EAAoG,EAApGA,WAAYC,EAAwF,EAAxFA,aAAcf,EAA0E,EAA1EA,YAAaE,EAA6D,EAA7DA,eAAgBC,EAA6C,EAA7CA,iBAAkBC,EAA2B,EAA3BA,cAAeY,EAAY,EAAZA,UAElI1C,EAAcpD,IAAMqD,WAAWZ,GAEtC,OACA,uBAAM9B,UAAU,kBAAhB,UACC,0BAASA,UAAU,wBAAnB,UACE,mBAAGoF,KAAK,KAAKpF,UAAU,uBAAuBG,QAAS+E,EAAvD,SACE,qBACEtG,IAAK6D,EAAYnB,OACjBrB,IAAI,uCACJD,UAAU,sBAGd,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,mBAAGA,UAAU,sBAAb,SAAoCyC,EAAY1B,OAChD,wBACEf,UAAU,4CACVE,KAAK,SACLC,QAAS6E,OAGb,mBAAGhF,UAAU,iBAAb,SAA+ByC,EAAYrB,WAE7C,wBACEpB,UAAU,4CACVE,KAAK,SACLC,QAAS8E,OAGP,yBAASjF,UAAU,0BAAnB,SAEImF,EAAY,cAAC,EAAD,IAAc9C,EAAMgD,KAAI,YAA4C,IAA1ClC,EAAyC,EAAzCA,OAAQvE,EAAiC,EAAjCA,IAAKC,EAA4B,EAA5BA,QAASkE,EAAmB,EAAnBA,KAAME,EAAa,EAAbA,QAAc,OAAO,cAAC,EAAD,CAAmBA,QAASA,EAASrE,IAAKA,EAAKC,QAASA,EAASkE,KAAMA,EAAMI,OAAQA,EAAQgB,YAAaA,EAAaC,WAAYA,EAAYC,eAAgBA,EAAgBC,iBAAkBA,EAAkBC,cAAeA,GAAvNpB,YCY/FmC,MAhDf,YAAsH,IAA7FC,EAA4F,EAA5FA,OAAQ7G,EAAoF,EAApFA,OAAQ8G,EAA4E,EAA5EA,MAAOC,EAAqE,EAArEA,SAAU9G,EAA2D,EAA3DA,QAAS+G,EAAkD,EAAlDA,OAAQrB,EAA0C,EAA1CA,eAAgBnC,EAA0B,EAA1BA,cAEnFpD,GAF6G,EAAX6G,SAEjF5G,uBAAY,SAACC,GAC9BA,EAAIC,SAAWD,EAAIE,eACvBP,MACC,CAACA,KAEEQ,EAAiBJ,uBAAY,SAACC,GAClB,WAAZA,EAAII,KACNT,MAED,CAACA,IAyBJ,OAvBAU,IAAMC,WAAU,WACd,GAAGZ,EAAQ,CACT,IAAMa,EAAQC,SAASC,cAAT,WAA2B8F,IACzChG,EAAMG,UAAUC,IAAI,gBACpBH,SAASI,KAAKC,iBAAiB,QAASV,GACxCI,EAAMM,iBAAiB,QAASf,GAElC,OAAO,WACL,IAAMS,EAAQC,SAASC,cAAT,WAA2B8F,IACzChG,EAAMG,UAAUI,OAAO,gBACvBN,SAASI,KAAKG,oBAAoB,QAASZ,GAC3CI,EAAMQ,oBAAoB,QAASjB,MAEpC,CAACJ,EAAQ6G,EAAQzG,EAAgBK,IAWlC,qBAAKa,UAAS,gBAAWuF,GAAzB,SACA,uBAAMvF,UAAS,wBAA2Be,KAAMwE,EAAQI,SAV1D,SAAwB3G,GACtBA,EAAI8E,iBACJO,IACAnC,IACAvD,KAMiFiH,YAAU,EAA3F,UACE,oBAAI5F,UAAU,eAAd,SAA8BwF,IAC7BC,EACD,wBAAQzF,UAAU,cAAcE,KAAK,SAArC,SAAgDwF,IAChD,wBAAQ1F,UAAU,eAAeE,KAAK,SAASC,QAAS,SAAUnB,GAAOA,EAAI8E,iBAAkBnF,aCmCtFkH,MAzEf,YAA+F,IAAnEnH,EAAkE,EAAlEA,OAAQC,EAA0D,EAA1DA,QAAS0F,EAAiD,EAAjDA,eAAgBC,EAAiC,EAAjCA,iBAAkBC,EAAe,EAAfA,cAAe,EAE9ClF,IAAMyG,SAAS,IAF+B,mBAErFC,EAFqF,KAEpEC,EAFoE,OAGhD3G,IAAMyG,SAAS,IAHiC,mBAGrFG,EAHqF,KAGrEC,EAHqE,KAKtFzD,EAAcpD,IAAMqD,WAAWZ,GAyBvC,OALEzC,IAAMC,WAAU,WACd0G,EAAmBvD,EAAYrB,OAC/B8E,EAAkBzD,EAAY1B,QAC7B,CAAC0B,IAGN,cAAC,EAAD,CACQiD,OAAO,yDACPF,MAAM,4HACND,OAAO,YACP7G,OAAQA,EACRC,QAASA,EACT0F,eAAgBA,EAChBnC,cAAe,kBAvBEnB,EAuBiBkF,EAvBX7E,EAuB2B2E,EAtBtDzB,EAAiB,qBACjBC,EAAc,CACZxD,KAAMA,EACNK,MAAOA,IAJV,IAAsBL,EAAMK,GAwBvBkD,iBAAkBA,EAClBmB,SAAU,qCACR,uBACEpE,GAAG,aACHnB,KAAK,OACLF,UAAU,sCACVmG,aAAa,MACbC,YAAY,qBACZrF,KAAK,OACLsF,UAAU,IACVC,UAAU,KACVC,MAAON,EACPO,SAAU,SAACC,GA3CnBP,EA2C0CO,EA3CpBxH,OAAOsH,QA4CrBG,UAAQ,IAEV,sBAAMrF,GAAG,mBAAmBrB,UAAU,uBACtC,uBACEqB,GAAG,cACHnB,KAAK,OACLF,UAAU,uCACVmG,aAAa,MACbC,YAAY,kCACZrF,KAAK,QACLwF,MAAOR,EACPM,UAAU,IACVC,UAAU,MACVI,UAAQ,EACRF,SAvDT,SAA4BxH,GAC3BgH,EAAmBhH,EAAIC,OAAOsH,UAwDxB,sBAAMlF,GAAG,oBAAoBrB,UAAU,6BChClC6F,MAvCf,YAA+F,IAAnEnH,EAAkE,EAAlEA,OAAQC,EAA0D,EAA1DA,QAAS0F,EAAiD,EAAjDA,eAAgBC,EAAiC,EAAjCA,iBAAkBC,EAAe,EAAfA,cAEvEoC,EAAYtH,IAAMuH,SASxB,OACE,cAAC,EAAD,CACIlB,OAAO,yDACPF,MAAM,wFACND,OAAO,mBACP7G,OAAQA,EACRC,QAASA,EACT0F,eAAgBA,EAChBnC,cAfN,WACEoC,EAAiB,kBACjBC,EAAc,CACZjD,OAAQqF,EAAUE,QAAQN,SAaxBjC,iBAAkBA,EACpBmB,SAAU,qCACR,uBACApE,GAAG,eACHnB,KAAK,MACLF,UAAU,sCACVmG,aAAa,MACbC,YAAY,yFACZrF,KAAK,OACL+F,IAAKH,EACLN,UAAU,IACVC,UAAU,MACVI,UAAQ,IAER,sBAAMrF,GAAG,qBAAqBrB,UAAU,6BC6BjC+G,MA/Df,YAA4F,IAAnErI,EAAkE,EAAlEA,OAAQC,EAA0D,EAA1DA,QAAS0F,EAAiD,EAAjDA,eAAgBC,EAAiC,EAAjCA,iBAAkBC,EAAe,EAAfA,cAAe,EAE/ClF,IAAMyG,SAAS,IAFgC,mBAElFkB,EAFkF,KAEnEC,EAFmE,OAG/C5H,IAAMyG,SAAS,IAHgC,mBAGlFoB,EAHkF,KAGnEC,EAHmE,KAqB3F,OACA,cAAC,EAAD,CACQzB,OAAO,6CACPF,MAAM,gEACND,OAAO,WACP7G,OAAQA,EACRC,QAASA,EACT0F,eAAgBA,EAChBnC,cAAe,kBAhBCnB,EAgBgBiG,EAhBVhG,EAgByBkG,EAfnD5C,EAAiB,mBACjBC,EAAc,CACZxD,KAAMA,EACNC,KAAMA,IAJT,IAAqBD,EAAMC,GAiBtBsD,iBAAkBA,EAElBmB,SAAU,qCACR,uBACFpE,GAAG,aACHnB,KAAK,OACLF,UAAU,sCACVmG,aAAa,MACbC,YAAY,mDACZrF,KAAK,OACLwF,MAAOS,EACPR,SAAU,SAACC,GAnCfQ,EAmCoCR,EAnCfxH,OAAOsH,QAoCxBF,UAAU,IACVC,UAAU,KACVI,UAAQ,IAEV,sBAAMrF,GAAG,mBAAmBrB,UAAU,uBACtC,uBACEqB,GAAG,YACHnB,KAAK,MACLF,UAAU,uCACVmG,aAAa,MACbC,YAAY,qGACZG,MAAOW,EACPV,SAAU,SAACC,GA5CfU,EA4CoCV,EA5CfxH,OAAOsH,QA6CxBxF,KAAK,OACL2F,UAAQ,IAEV,sBAAMrF,GAAG,kBAAkBrB,UAAU,6BCuG5BoH,MAtJf,WAAgB,IAAD,EAC8C/H,IAAMyG,UAAS,GAD7D,mBACNuB,EADM,KACkBC,EADlB,OAE4CjI,IAAMyG,UAAS,GAF3D,mBAENyB,EAFM,KAEiBC,EAFjB,OAGyCnI,IAAMyG,UAAS,GAHxD,mBAGN2B,EAHM,KAGeC,EAHf,OAIkCrI,IAAMyG,UAAS,GAJjD,mBAIN6B,EAJM,KAIYC,EAJZ,OAK2BvI,IAAMyG,UAAS,GAL1C,mBAKN+B,EALM,KAKSxD,EALT,OAOahF,IAAMyG,SAAS,CAAC,CACtClH,IAAK,GACLC,QAAS,GACTkE,KAAM,CAAC,IACPI,OAAQ,GACRF,QAAS,MAZA,mBAONZ,EAPM,KAOCC,EAPD,OAcqBjD,IAAMyG,UAAS,GAdpC,mBAcNX,EAdM,KAcK2C,EAdL,OAe2BzI,IAAMyG,SAAS,CAAClH,IAAK,GAAIC,QAAS,KAf7D,mBAeNkJ,EAfM,KAeQC,EAfR,OAgBmC3I,IAAMyG,UAAS,GAhBlD,mBAgBNvD,EAhBM,KAgBYC,EAhBZ,OAmByBnD,IAAMyG,SAAS,CAAC/E,KAAM,GAAIK,MAAO,KAnB1D,mBAmBNqB,EAnBM,KAmBOL,EAnBP,OAqB6B/C,IAAMyG,SAAS,IArB5C,oBAqBN5D,GArBM,MAqBSoC,GArBT,SAsBuBjF,IAAMyG,SAAS,CAAC/E,KAAM,GAAIK,MAAO,KAtBxD,qBAsBNe,GAtBM,MAsBMoC,GAtBN,MAiCb,SAAS0D,KACPX,GAAyB,GACzBE,GAAwB,GACxBE,GAAuB,GACvBE,GAAmB,GACnBI,EAAgB,IAQlB,SAASE,KACP7D,GAAe,GAuEjB,OA9FAhF,IAAMC,WAAU,WACdqD,EAAIwF,cAAcvH,MAAK,SAACC,GACtBuB,EAAevB,MAEhBuC,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEb,IAqELhE,IAAMC,WAAU,WACdwI,GAAa,GACbnF,EAAIyF,kBACHxH,MAAK,SAACC,GACLyB,EAASzB,EAAIwE,KAAI,SAACgD,GAAD,MAAW,CAC1BzJ,IAAKyJ,EAAKrH,KACVnC,QAASwJ,EAAKtH,KACdgC,KAAMsF,EAAKrF,MACXG,OAAQkF,EAAKvF,IACbG,QAASoF,EAAKnF,MAAMJ,SAEtBgF,GAAa,MAEd1E,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEb,IAGC,cAAC,EAAmBiF,SAApB,CAA6B/B,MAAO9D,EAApC,SACA,sBAAKzC,UAAU,MAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CACEqC,MAAOA,EACP2C,cAAiB,SAACyB,GAAD,OAA8BA,EAzE/C3C,sBACJwD,GAAyB,IAyErBpC,aAAgB,SAACuB,GAAD,OAtEtB,SAAgCA,GAC9BA,EAAE3C,iBACF0D,GAAwB,GAoEGe,CAAsB9B,IAC7CxB,WAAc,SAACwB,GAAD,OAA2BA,EAjEzC3C,sBACJ4D,GAAuB,IAiEnBvD,YAtFN,YAA0C,IAAhBvF,EAAe,EAAfA,IAAKC,EAAU,EAAVA,QAC7BmJ,EAAgB,CAACpJ,MAAKC,YACtB+I,GAAmB,IAqFfvD,eAAgB6D,GAChB5D,iBAAkBA,GAClBC,cAAeA,GACfH,WAjEL,SAAwBrB,EAAMI,GAEbJ,EAAK4B,MAAK,SAAAC,GAAC,OAAIA,EAAE9B,MAAQL,EAAYK,OAkBnDH,EAAI6F,eAAerF,GAClBvC,MAAK,SAACiC,GACL,IAAMY,EAAWpB,EAAMgD,KAAI,SAAC1B,GAAD,OAAOA,EAAER,SAAWN,EAAQC,IAAO,CAC5DlE,IAAKiE,EAAQ7B,KACbnC,QAASgE,EAAQ9B,KACjBgC,KAAMF,EAAQG,MACdG,OAAQN,EAAQC,IAChBG,QAASJ,EAAQK,MAAMJ,KACpBa,KACPrB,EAASmB,MAvBTd,EAAI8F,SAAStF,GACZvC,MAAK,SAACiC,GACH,IAAMY,EAAWpB,EAAMgD,KAAI,SAAC1B,GAAD,OAAOA,EAAER,SAAWN,EAAQC,IAAO,CAC5DlE,IAAKiE,EAAQ7B,KACbnC,QAASgE,EAAQ9B,KACjBgC,KAAMF,EAAQG,MACdG,OAAQN,EAAQC,IAChBG,QAASJ,EAAQK,MAAMJ,KACpBa,KACPrB,EAASmB,OAmDT0B,UAAWA,IAEb,cAAC,EAAD,IAEA,cAAC,EAAD,CAAkBzG,OAAQ2I,EAAwB1I,QAASsJ,GAAgB5D,eAAgB6D,GAAoB5D,iBAAkBA,GAAkBC,cAAeA,KAClK,cAACmE,EAAD,CAAiBhK,OAAQ6I,EAAuB5I,QAASsJ,GAAgB5D,eAAgB6D,GAAoB5D,iBAAkBA,GAAkBC,cAAeA,KAChK,cAAC,EAAD,CAAe7F,OAAQ+I,EAAqB9I,QAASsJ,GAAgB5D,eAAgB6D,GAAoB5D,iBAAkBA,GAAkBC,cAAeA,KAE5J,cAAC,EAAD,CAAS7F,OAAQmJ,EAAe5F,UAAWoC,EAAgBnC,cAAeA,GAAeC,WAAYA,GAAYC,sBAAgBA,EAAgBC,MAAOA,EAAOC,SAAUA,EAAUC,iBAAkBA,EAAkBC,oBAAqBA,IAC5O,cAAC,EAAD,CACE/D,KAAMsJ,EACNrJ,OAAQiJ,EACRhJ,QAASsJ,WClJFU,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBjI,MAAK,YAAkD,IAA/CkI,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF7J,SAAS8J,eAAe,SAM1BX,M","file":"static/js/main.5e14d95c.chunk.js","sourcesContent":["import React, { useCallback } from 'react';\n\nfunction ImagePopup ({card, isOpen, onClose}) {\n  \n  const src = card.src;\n  const nameImg = card.nameImg;\n\n  const closeByOverlay = useCallback((evt) => {\n    if (evt.target !== evt.currentTarget) return;\n    onClose();\n  }, [onClose])\n\n  const handleEscClose = useCallback((evt) => {\n    if (evt.key === \"Escape\") {\n      onClose();\n    }\n  }, [onClose])\n\n\n  React.useEffect(() => {\n    if(isOpen) {\n      const Popup = document.querySelector('.image');\n      Popup.classList.add(\"popup_opened\");\n      document.body.addEventListener(\"keyup\", handleEscClose);\n      Popup.addEventListener(\"click\", closeByOverlay);\n    }\n    return () => {\n      const Popup = document.querySelector('.image');\n      Popup.classList.remove(\"popup_opened\");\n      document.body.removeEventListener(\"keyup\", handleEscClose);\n      Popup.removeEventListener(\"click\", closeByOverlay);\n    };\n  }, [isOpen, closeByOverlay, handleEscClose]); \n\nreturn (\n  <div className=\"popup image\">\n    <div className=\"popup__container image__container\">\n      <img\n        src={src}\n        alt={nameImg}\n        className=\"popup__image\"\n      />\n      <p className=\"popup__figcaption-image\">{nameImg}</p>\n      <button className=\"popup__close\" type=\"button\" onClick={onClose}></button>\n      \n    </div>\n  </div>\n)\n\n}\n\nexport default ImagePopup","class Api {\n  constructor (config) {\n      this._url = config.url;\n      this._headers = config.headers;\n  }\n\n  getInitialCards() {\n    return fetch(this._url + 'cards', {\n      headers: this._headers,\n  })\n      .then(res => this._returnData(res));\n  } \n\n  addNewCard (name, link) {\n    return fetch(this._url + 'cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link \n      })\n    })\n    .then((res) => this._returnData(res));\n}\n\n  editUserInfo (name, about) {\n    return fetch(this._url + 'users/me', {\n    method: 'PATCH',\n    headers: this._headers,\n    body: JSON.stringify({\n      name: name,\n      about: about \n    })\n  })\n  .then((res) => this._returnData(res));\n}\n  \n  getUserInfo () {\n    return fetch(this._url + 'users/me', {\n        headers: this._headers\n      })\n      .then((res) => this._returnData(res));\n    }\n\n\n  deleteCard(id) {\n      return fetch(this._url + `cards/${id}`, {\n          method: \"DELETE\",\n          headers: this._headers,\n      }).then((res) => this._returnData(res))\n  }\n\n\n  likeCard(id) {\n    return fetch(this._url + `cards/likes/${id}`, {\n      method: \"PUT\",\n      headers: this._headers,\n  }).then((res) => this._returnData(res))\n  }\n\n  deleteLikeCard(id) {\n    return fetch(this._url + `cards/likes/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n  }).then((res) => this._returnData(res))\n  }\n\n  getLikesCard(id) {\n    return fetch(this._url + `cards/likes/${id}`, {\n      method: \"GET\",\n      headers: this._headers,\n  }).then((res) => this._returnData(res))\n  }\n\n  setUserAvatar(avatar) {\n    return fetch(this._url + 'users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar \n      })\n    })\n    .then((res) => this._returnData(res));\n  }\n\n_returnData (res) {\n  if (res.ok) {\n    return res.json();\n  }\n\n  return Promise.reject(`Ошибка: ${res.status}`);\n}\n\n}\n\nconst api = new Api({\n  url: \"https://mesto.nomoreparties.co/v1/cohort-20/\",\n  headers: {\n\t\tauthorization: '4b126959-9593-4c1c-9c1d-30d3e8eeddbf',\n    \"content-type\": \"application/json\",\n  }\n}); \n\nexport default api;","import React from 'react';\nimport './Spinner.css';\n\nfunction Spinner() {\n  return (\n    <div className=\"Spinner\"></div>\n  );\n}\n\nexport default Spinner;\n","import React from 'react';\n\n\nexport const CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext","import React from 'react';\nimport Api from '../utils/Api';\nimport Spinner from './Spinner';\n\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction Confirm ({isOpen, setIsOpen,confirmAction, confirmObj, setСurrentUser, cards, setCards, isLoadingConfirm, setIsLoadingConfirm}) {\n  \n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    if(isOpen) {\n      const Popup = document.querySelector(`.confirm`);\n      Popup.classList.add(\"popup_opened\");\n    }\n    return () => {\n      const Popup = document.querySelector(`.confirm`);\n      Popup.classList.remove(\"popup_opened\");\n    };\n  }, [isOpen]); \n\n  function onClick () {\n    // console.log(\"confirm -> onClick\");\n    // console.log(confirmAction);\n    setIsLoadingConfirm(true);\n    switch  (confirmAction) {\n      case 'addNewCard': \n        Api.addNewCard(confirmObj.name, confirmObj.link)\n        .then((newCard) => {\n          newCard.key = newCard._id;\n          newCard.like = newCard.likes;\n          newCard.ownerId = newCard.owner._id;\n          newCard.src = newCard.link;\n          newCard.nameImg = newCard.name;\n          newCard.cardId = newCard._id;\n          setCards([newCard, ...cards]); \n        })\n        .then(() => {setIsOpen(false)})\n        .catch((err) => {\n          console.log(err); // выведем ошибку в консоль\n        }); \n        break;\n      case 'cardDelete':\n        const isOwn = confirmObj.ownerId === currentUser._id;\n        if(isOwn) {\n            Api.deleteCard(confirmObj.cardId)\n            .then(() => {\n                const newCards = cards.filter((c) => c.cardId !== confirmObj.cardId);\n              setCards(newCards);\n            })\n            .then(() => {setIsOpen(false)})\n            .catch((err) => {\n              console.log(err); // выведем ошибку в консоль\n            });}\n        break;\n      case 'editUserAvatar':\n        Api.setUserAvatar(confirmObj.avatar)\n        .then((res) => setСurrentUser(res))\n        .then(() => {setIsOpen(false)})\n        .catch((err) => {\n          console.log(err); // выведем ошибку в консоль\n        });\n          break;\n      case 'editUserInfo':\n        Api.editUserInfo (confirmObj.name, confirmObj.about)\n        .then((res) => setСurrentUser(res))\n        .then(() => {setIsOpen(false)})\n        .catch((err) => {\n          console.log(err); // выведем ошибку в консоль\n        });\n        break;\n      default:\n        break;\n\n    } \n    // console.log(\"Confirm -> onCLick\");\n  }\n\n  return (\n    <div className=\"confirm popup\">\n    <div className=\"popup__container confirm__container\">\n      <h2 className=\"popup__header\">Вы уверены?</h2>\n      \n      <button className=\"popup__save\" type=\"button\" onClick={onClick}>Да</button>\n      {isLoadingConfirm ? <Spinner /> : ''}\n      <button className=\"popup__close\" type=\"button\" onClick={function (evt) { evt.preventDefault(); setIsOpen(false)}}></button>\n    \n    </div>\n  </div>\n  )\n}\n\nexport default Confirm; ","export default __webpack_public_path__ + \"static/media/header__logo.a307e1c4.svg\";","import React from 'react';\nimport logo from '../images/header__logo.svg';\n\nfunction Header () {\n  return (\n    <header className=\"header page__header\">\n      <img src={logo} alt=\"Место\" className=\"header__logo\" />\n    </header>\n  )\n}\n\nexport default Header;","import React from 'react';\n\nfunction Footer () {\n  return (<footer className=\"footer page__footer\">&copy; 2020 Mesto Russia</footer>)\n}\n\nexport default Footer;","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction Card ({cardId, src, nameImg, like, onCardClick, onCardLike, ownerId, setConfirmOpen, setConfirmAction, setConfirmObj}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = ownerId === currentUser._id;\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = (\n    `element__trash ${isOwn ? ' ' : 'element__trash_invisible'}`\n  ); \n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = like.some(i => i._id === currentUser._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = (\n  `element__like ${isLiked ? 'element__like_type_active' : ' '}`); \n\n  function handleImgClick(){\n    onCardClick({src, nameImg});\n  }\n\n  function handleLikeClick() {\n    // console.log(\"========LIKE=======\");\n    // console.log(like);\n    onCardLike(like, cardId);\n  }\n\n  function handleCardDelete(){\n    // console.log(\"handleCardDelete\");\n    setConfirmOpen();\n    setConfirmAction('cardDelete');\n    setConfirmObj({\n      ownerId: ownerId,\n      cardId: cardId\n    })\n  }\n\n  return (\n    <div className=\"element\">\n      <img src={src} alt={nameImg} className=\"element__img\" onClick={handleImgClick}/>\n      <div className=\"element__name\">\n        <h3 className=\"element__title\">{nameImg}</h3>\n        <div className=\"element__likes\">\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\n          <p className=\"element__like-counter\">{like.length}</p>\n        </div>\n      </div>\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleCardDelete}></button>\n    </div>\n  );\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card';\nimport Spinner from './Spinner';\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction Main ({cards, onCardLike, onEditProfile, onAddPlace, onEditAvatar, onCardClick, setConfirmOpen, setConfirmAction, setConfirmObj, isLoading}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  \n return ( \n <main className=\"main page__main\">\n  <section className=\"profile main__profile\">\n    <a href=\"/#\" className=\"profile__avatar-edit\" onClick={onEditAvatar}>\n      <img\n        src={currentUser.avatar}\n        alt=\"Аватар\"\n        className=\"profile__avatar\"\n      />\n    </a>\n    <div className=\"profile__info\">\n      <div className=\"profile__name\">\n        <p className=\"profile__name-title\">{currentUser.name}</p>\n        <button\n          className=\"profile__button profile__button_type_edit\"\n          type=\"button\"\n          onClick={onEditProfile}\n        ></button>\n      </div>\n      <p className=\"profile__about\">{currentUser.about}</p>\n    </div>\n    <button\n      className=\"profile__button profile__button_type_add \"\n      type=\"button\"\n      onClick={onAddPlace}\n    ></button>\n  </section>\n        <section className=\"elements main__elements\">\n        {\n            isLoading ? <Spinner /> : cards.map(({cardId, src, nameImg, like, ownerId}) => {return <Card key={cardId} ownerId={ownerId} src={src} nameImg={nameImg} like={like} cardId={cardId} onCardClick={onCardClick} onCardLike={onCardLike} setConfirmOpen={setConfirmOpen} setConfirmAction={setConfirmAction} setConfirmObj={setConfirmObj}/>}) \n        }                \n        </section>\n</main>)\n}\n\nexport default Main;\n\n","import React, { useCallback } from 'react';\n\nfunction PopupWithForm ({formId, isOpen, title, children, onClose, button, setConfirmOpen, confirmAction, onSubmit}) {\n  // console.log();\n  const closeByOverlay = useCallback((evt) => {\n    if (evt.target !== evt.currentTarget) return;\n    onClose();\n  }, [onClose])\n\n  const handleEscClose = useCallback((evt) => {\n    if (evt.key === \"Escape\") {\n      onClose();\n    }\n  }, [onClose])\n\n  React.useEffect(() => {\n    if(isOpen) {\n      const Popup = document.querySelector(`.${formId}`);\n      Popup.classList.add(\"popup_opened\");\n      document.body.addEventListener(\"keyup\", handleEscClose);\n      Popup.addEventListener(\"click\", closeByOverlay);\n    }\n    return () => {\n      const Popup = document.querySelector(`.${formId}`);\n      Popup.classList.remove(\"popup_opened\");\n      document.body.removeEventListener(\"keyup\", handleEscClose);\n      Popup.removeEventListener(\"click\", closeByOverlay);\n    };\n  }, [isOpen, formId, closeByOverlay, handleEscClose]); \n\n  function submitConfirm (evt) {\n    evt.preventDefault(); \n    setConfirmOpen();\n    confirmAction();\n    onClose();\n    // console.log(\"PopupWithForm -> submitConfirm\");\n  }\n\n  return (\n    <div className={`popup ${formId}`}>\n    <form className={`form popup__container`} name={formId} onSubmit={submitConfirm} noValidate>\n      <h2 className=\"popup__title\">{title}</h2>\n      {children}\n      <button className=\"popup__save\" type=\"submit\" >{button}</button>\n      <button className=\"popup__close\" type=\"button\" onClick={function (evt) { evt.preventDefault(); onClose()}}></button>\n    </form>\n  </div>\n  )\n}\n\nexport default PopupWithForm;","\nimport React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup ({isOpen, onClose, setConfirmOpen, setConfirmAction, setConfirmObj}){\n\n  const [inputAboutValue, setInputAboutValue] = React.useState('');\n  const [inputNameValue, setInputNameValue] = React.useState('');\n     // Подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleNameChange (evt) {\n    setInputNameValue(evt.target.value);\n   }\n \n   function handleAboutChange (evt) {\n    setInputAboutValue(evt.target.value);\n   }\n \n   function editUserInfo(name, about) {\n    setConfirmAction('editUserInfo');\n    setConfirmObj({\n      name: name,\n      about: about \n    })\n   }\n\n// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\n  React.useEffect(() => {\n    setInputAboutValue(currentUser.about);\n    setInputNameValue(currentUser.name);\n  }, [currentUser]); \n\nreturn (\n<PopupWithForm \n        button=\"Сохранить\" \n        title=\"Редактировать профиль\" \n        formId=\"edit-user\" \n        isOpen={isOpen} \n        onClose={onClose}\n        setConfirmOpen={setConfirmOpen}\n        confirmAction={() => editUserInfo(inputNameValue, inputAboutValue)}\n        setConfirmAction={setConfirmAction}\n        children={<>\n          <input\n            id=\"name-input\"\n            type=\"text\"\n            className=\"popup__input popup__input_type_name\"\n            autoComplete=\"off\"\n            placeholder=\"Имя\"\n            name=\"name\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            value={inputNameValue}\n            onChange={(e) => handleNameChange(e)}\n            required\n          />\n          <span id=\"name-input-error\" className=\"popup__input-error\"></span>\n          <input\n            id=\"about-input\"\n            type=\"text\"\n            className=\"popup__input popup__input_type_about\"\n            autoComplete=\"off\"\n            placeholder=\"О себе\"\n            name=\"about\"\n            value={inputAboutValue}\n            minLength=\"2\"\n            maxLength=\"200\"\n            required\n            onChange={handleAboutChange}\n          />\n          <span id=\"about-input-error\" className=\"popup__input-error\"></span>\n          </>}\n      />)\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup ({isOpen, onClose, setConfirmOpen, setConfirmAction, setConfirmObj}){\n\n  const avatarRef = React.useRef();\n  // console.log();\n  function editUserAvatar () {\n    setConfirmAction('editUserAvatar');\n    setConfirmObj({\n      avatar: avatarRef.current.value\n    })\n   }\n\n  return (\n    <PopupWithForm \n        button=\"Сохранить\" \n        title=\"Обновить аватар\" \n        formId=\"edit-user-avatar\" \n        isOpen={isOpen} \n        onClose={onClose}\n        setConfirmOpen={setConfirmOpen}\n        confirmAction={editUserAvatar}\n        setConfirmAction={setConfirmAction}\n      children={<>\n        <input\n        id=\"avatar-input\"\n        type=\"url\"\n        className=\"popup__input popup__input_type_name\"\n        autoComplete=\"off\"\n        placeholder=\"Ссылка на аватар\"\n        name=\"name\"\n        ref={avatarRef}\n        minLength=\"2\"\n        maxLength=\"200\"\n        required\n        />\n        <span id=\"avatar-input-error\" className=\"popup__input-error\"></span>\n      </>}/>\n  )\n}\n\nexport default EditProfilePopup","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup ({isOpen, onClose, setConfirmOpen, setConfirmAction, setConfirmObj}){\n\n  const [inputCardName, setInputCardName] = React.useState([]);\n  const [inputCardLink, setInputCardLink] = React.useState([]);\n\n  function handleCardName (evt) {\n    setInputCardName(evt.target.value);\n   }\n\n   function handleCardLink (evt) {\n    setInputCardLink(evt.target.value);\n   }\n\n   function addNewCard (name, link) {\n    setConfirmAction('addNewCard');\n    setConfirmObj({\n      name: name,\n      link: link\n    })\n   }\n\nreturn (\n<PopupWithForm \n        button=\"Создать\" \n        title=\"Новое место\" \n        formId=\"add-card\" \n        isOpen={isOpen} \n        onClose={onClose} \n        setConfirmOpen={setConfirmOpen}\n        confirmAction={() => addNewCard(inputCardName, inputCardLink)}\n        setConfirmAction={setConfirmAction}\n\n        children={<>\n          <input\n        id=\"name-input\"\n        type=\"text\"\n        className=\"popup__input popup__input_type_name\"\n        autoComplete=\"off\"\n        placeholder=\"Название\"\n        name=\"name\"\n        value={inputCardName}\n        onChange={(e) => handleCardName(e)}\n        minLength=\"2\"\n        maxLength=\"30\"\n        required\n      />\n      <span id=\"name-input-error\" className=\"popup__input-error\"></span>\n      <input\n        id=\"url-input\"\n        type=\"url\"\n        className=\"popup__input popup__input_type_about\"\n        autoComplete=\"off\"\n        placeholder=\"Ссылка на картинку\"\n        value={inputCardLink}\n        onChange={(e) => handleCardLink(e)}\n        name=\"link\"\n        required\n      />\n      <span id=\"url-input-error\" className=\"popup__input-error\"></span>\n        </>}/>)\n\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport ImagePopup from './ImagePopup';\nimport Confirm from './Confirm';\nimport Api from '../utils/Api';\n\nimport Header from './Header'\nimport Footer from './Footer'\nimport Main from './Main'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\n\nimport CurrentUserContext from '../contexts/CurrentUserContext'\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupState] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupState] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacerPopupState] = React.useState(false);\n  const [isImagePopupOpen, setImagePopupState] = React.useState(false);\n  const [isConfirmOpen, setConfirmOpen] = React.useState(false);\n\n  const [cards, setCards] = React.useState([{\n      src: '',\n      nameImg: '',\n      like: [''],\n      cardId: '',\n      ownerId: ''\n  }]); \n  const [isLoading, setIsLoading] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({src: '', nameImg: ''});\n  const [isLoadingConfirm, setIsLoadingConfirm] = React.useState(false);\n\n\n  const [currentUser, setСurrentUser] = React.useState({name: '', about: ''}); \n\n  const [confirmAction, setConfirmAction] = React.useState('');\n  const [confirmObj, setConfirmObj] = React.useState({name: '', about: ''});\n\n  React.useEffect(() => {\n    Api.getUserInfo().then((res) => {\n      setСurrentUser(res);\n    })\n    .catch((err) => {\n      console.log(err); // выведем ошибку в консоль\n    });\n  }, []);\n\n  function closeAllPopups() {\n    setEditProfilePopupState(false);\n    setEditAvatarPopupState(false);\n    setAddPlacerPopupState(false);\n    setImagePopupState(false);\n    setSelectedCard([]);\n  }\n\n  function handleCardClick({src, nameImg}) {\n    setSelectedCard({src, nameImg});\n    setImagePopupState(true);\n  }\n\n  function handleConfirmClick() {\n    setConfirmOpen(true);\n  }\n\n  function handleEditProfileClick (evt) {\n    evt.preventDefault();\n    setEditProfilePopupState(true);\n  }\n\n  function handleEditAvatarClick (e) {\n    e.preventDefault();\n    setEditAvatarPopupState(true);\n  }\n  \n  function handleAddPlaceClick (evt) {\n    evt.preventDefault();\n    setAddPlacerPopupState(true);\n  }\n\n\n   function handleCardLike(like, cardId) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = like.some(i => i._id === currentUser._id);\n    // console.log('main -> handleCardLike');\n    if(!isLiked) {\n      // console.log(\"main -> handleCardLike -> like\")\n      Api.likeCard(cardId)\n      .then((newCard) => {\n          const newCards = cards.map((c) => c.cardId === newCard._id ? ({\n            src: newCard.link,\n            nameImg: newCard.name,\n            like: newCard.likes,\n            cardId: newCard._id,\n            ownerId: newCard.owner._id\n          }) : c);\n        setCards(newCards);\n      })\n    }\n    else {\n      // console.log(\"main -> handleCardLike -> deleteLike\")\n      Api.deleteLikeCard(cardId)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c.cardId === newCard._id ? ({\n          src: newCard.link,\n          nameImg: newCard.name,\n          like: newCard.likes,\n          cardId: newCard._id,\n          ownerId: newCard.owner._id\n        }) : c);\n      setCards(newCards);\n    })\n    }\n} \n\nReact.useEffect(() => {\n  setIsLoading(true);\n  Api.getInitialCards()\n  .then((res) => {\n    setCards(res.map((item) => ({\n      src: item.link,\n      nameImg: item.name,\n      like: item.likes,\n      cardId: item._id,\n      ownerId: item.owner._id\n    })));\n    setIsLoading(false);\n  })\n  .catch((err) => {\n    console.log(err); // выведем ошибку в консоль\n  });\n}, [])\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"App\">\n      <Header />\n      <Main \n        cards={cards}\n        onEditProfile = {(e) => handleEditProfileClick(e)} \n        onEditAvatar = {(e) => handleEditAvatarClick(e)}\n        onAddPlace = {(e) => handleAddPlaceClick(e)}\n        onCardClick = {handleCardClick}\n        setConfirmOpen={handleConfirmClick}\n        setConfirmAction={setConfirmAction}\n        setConfirmObj={setConfirmObj}\n        onCardLike={handleCardLike}\n        isLoading={isLoading}\n        />\n      <Footer />\n\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} setConfirmOpen={handleConfirmClick} setConfirmAction={setConfirmAction} setConfirmObj={setConfirmObj}></EditProfilePopup>\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} setConfirmOpen={handleConfirmClick} setConfirmAction={setConfirmAction} setConfirmObj={setConfirmObj}></EditAvatarPopup>\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} setConfirmOpen={handleConfirmClick} setConfirmAction={setConfirmAction} setConfirmObj={setConfirmObj}></AddPlacePopup>\n\n      <Confirm isOpen={isConfirmOpen} setIsOpen={setConfirmOpen} confirmAction={confirmAction} confirmObj={confirmObj} setСurrentUser={setСurrentUser} cards={cards} setCards={setCards} isLoadingConfirm={isLoadingConfirm} setIsLoadingConfirm={setIsLoadingConfirm}/>\n      <ImagePopup \n        card={selectedCard} \n        isOpen={isImagePopupOpen}   \n        onClose={closeAllPopups}/>\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}